<html>
 <head>
  <title>회원가입</title>
  <script language="javascript">
   
         function checkz()
        {
            // event.preventDefault();
            
            var idtext = document.getElementById("tbID");
            var patext = document.getElementById("tbPwd");
            var cpatext = document.getElementById("cpass");
            var mtext = document.getElementById("mail");
            var nametext = document.getElementById("name");
            var hobby =document.getElementsByName("hobby");
            var intro =  document.getElementById("intro");
 
 
 
            var id = idtext.value;
            var password = patext.value;
            var cpassword = cpatext.value;
            var mail = mtext.value;
            var name = nametext.value;
 
 
 
 
            var regExp1 = /^[a-zA-Z0-9]{4,12}$/;
            //id와 비밀번호의 유효성 검사
            var regExp2 = /[a-z0-9]{2,}@[a-z0-9-]{2,}\.[a-z0-9]{2,}/i;
            //e-mail의 유효성 검사
            var regname = /^[가-힝]{2,}$/;
            //이름의 유효성 검사
 
         if (!regExp1.test(idtext.value)) {
 
            alert("형식에 맞춰서 ID를 입력해줘용");
            idtext.value="";
            idtext.focus();
            return false;
         }if (!regExp1.test(patext.value)) {
            alert("형식에 맞춰서 PW를 입력해줘용");
            patext.value="";
            patext.focus();
            return false;
         }if (!(cpassword.slice(0, cpassword.length) === password.slice(0, password.length))) 
            {
                alert("비밀번호가 틀렸네용.");
                cpatext.value = "";
                cpatext.focus();
                return false;
            }if ((cpassword.slice(0, cpassword.length) === id.slice(0, id.length))) 
            {
                alert("비밀번호가 ID와 똑같으면 안!대!요!");
                patext.value = "";
                patext.focus();
                cpatext.value = ""; 
                cpatext.focus();
                return false;
            }if (!regExp2.test(mtext.value))
            {
                alert("이메일 형식 다시 확인하세영.");
                mtext.value = "";
                mtext.focus();
                return false;
            }if (!regname.test(nametext.value))
            {
                alert("이름 똑띠 쓰세용");
                nametext.value = "";
                nametext.focus();
                return false;
            }
            
              if(check_jumin() == false){
                return false;
              }
         
          
            if(hobby[0].checked==false && 
                hobby[1].checked==false && 
                hobby[2].checked==false && 
                hobby[3].checked==false && 
                hobby[4].checked==false){
                 alert("관심분야를 체킷아웃");
                 return false;
              }
 
            //자기소개란 유효성 검사
            //공백이 있다면 안됨.
             if(intro.value==""){
                alert("자기 소개란을 100자 내외로 기입해주세요");
                return false;
             }
            
        return true;
       }
 
 
          function check_jumin() {
            
 
            var jumin = document.getElementById('pnum').value + document.getElementById('nnum').value;
            //pnum = 주민번호 앞자리
            //nnum = 주민번호 뒷자리
            var fmt = /^\d{6}[1234]\d{6}$/;  
             var buf = new Array(13);
            
            if (jumin == ""){
                alert("주민번호를 입력하세요");
                return false;
            }
            if (!fmt.test(jumin)) {
                alert("다시입력하세요");
                return false;
            }
 
            
            for (var i = 0; i < 13; i++) buf[i] = parseInt(jumin.charAt(i));
 
 
            multipliers = [2, 3, 4, 5, 6, 7, 8, 9, 2, 3, 4, 5];
            var sum = 0
            for ( i = 0; i < 12; i++){
             sum += (buf[i] *= multipliers[i]);
            }
            if ((11 - (sum % 11)) % 10 != buf[12]) {
                alert("잘못된 주민등록번호 입니다.")
                return false;
            }
 
            var birthYear = (jumin.charAt(6) <= "2") ? "19" : "20";
 
            birthYear += jumin.substr(0, 2);
   
            var birthMonth = jumin.substr(2, 2);
            
            var birthDate = jumin.substr(4, 2);
            
            var birth = new Date(birthYear, birthMonth, birthDate);
            var birt = document.getElementById("bir");
            var monn = document.getElementById("mon");
            var datee = document.getElementById("day");
 
            birt.value = parseInt(birthYear);
 
            monn.value = parseInt(birthMonth);
            
            datee.value =parseInt(birthDate);
 
            
        }
 
 
  </script>
</head>
<body>
    
<form onsubmit="return checkz()" method="post" action="mailto:szx0228@naver.com" enctype="text/plain" > 
<h2 align="center">회원가입</h2>
 
    <table align="center" border="3" cellspacing="0"  >
         <tr>
             <td colspan="5" height="30" align="center" bgcolor=#000000" span style="color:white;">회원기본정보</td>
             
        </tr>
        <tr> 
             <td align="left">아이디:</td>
             <td colspan="4"><input type="text" name="id" maxlength="12" id="tbID" > 4~12자리의 영문 대소문자와 숫자로만 입력</td>
         </tr>
     
         <tr>
             <td >비밀번호:</td>
             <td colspan="4"><input type="password" maxlength="12" id="tbPwd" > 4~12자리의 영문 대소문자와 숫자로만 입력</td>
         </tr>
         <tr>
             <td >비밀번호확인:</td>
             <td colspan="5"><input type="password" id="cpass" maxlength="12"></td>
             
         </tr>
         
        <tr>
             <td>메일주소:</td>
             <td colspan="4"><input type="text" name="addr" id="mail">
             예)id@domain.com</td>
         </tr>
         <tr>
             <td>이름:</td>
             <td colspan="3"><input type="text" name="nam" id="name"></td>
        </tr>
        <tr>
             <td colspan="5" height="30" align="center" bgcolor=#000000" span style="color:white;">개인신상정보</td>
        </tr>
        
        <tr>
             <td>주민등록번호:</td>
             <td colspan="4"><input type="text" name="jum" id="pnum">-<input type="password" name="jumin" id="nnum">예)123456789</td>
         </tr>
 
         <tr>
             <td >생일:</td>
             <td><input type="text" id="bir" 
             colspan="5">년<SELECT name = "mon" id="mon">
            <OPTION value="1">1월</OPTION>
            <OPTION value="2">2월</OPTION>
            <OPTION value="3">3월</OPTION>
            <OPTION value="4">4월</OPTION>
            <OPTION value="5">5월</OPTION>
            <OPTION value="6">6월</OPTION>
            <OPTION value="7">7월</OPTION>
            <OPTION value="8">8월</OPTION>
            <OPTION value="9">9월</OPTION>
            <OPTION value="10">10월</OPTION>
            <OPTION value="11">11월</OPTION>
            <OPTION value="12">12월</OPTION>
            </SELECT>
 
            <SELECT name = "day" id = "day">
            <OPTION value="1">1일</OPTION>
            <OPTION value="2">2일</OPTION>
            <OPTION value="3">3일</OPTION>
            <OPTION value="4">4일</OPTION>
            <OPTION value="5"> 5일</OPTION>
            <OPTION value="6">6일</OPTION>
            <OPTION value="7">7일</OPTION>
            <OPTION value="8">8일</OPTION>
            <OPTION value="9">9일</OPTION>
            <OPTION value="10">10일</OPTION>
            <OPTION value="11">11일</OPTION>
            <OPTION value="12">12일</OPTION>
            <OPTION value="13">13일</OPTION>
            <OPTION value="14">14일</OPTION>
            <OPTION value="15">15일</OPTION>
            <OPTION value="16">16일</OPTION>
            <OPTION value="17">17일</OPTION>
            <OPTION value="18">18일</OPTION>
            <OPTION value="19">19일</OPTION>
            <OPTION value="20">20일</OPTION>
            <OPTION value="21">21일</OPTION>
            <OPTION value="22">22일</OPTION>
            <OPTION value="23">23일</OPTION>
            <OPTION value="24">24일</OPTION>
            <OPTION value="25">25일</OPTION>
            <OPTION value="26">26일</OPTION>
            <OPTION value="27">27일</OPTION>
            <OPTION value="28">28일</OPTION>
            <OPTION value="29">29일</OPTION>
            <OPTION value="30">30일</OPTION>
            <OPTION value="31">31일</OPTION>
        </SELECT></td>
     </tr>
 
    <tr>
       <td>관심분야:</td>
      <td colspan="3"><input type="checkbox" name="hobby" value="컴퓨터" >컴퓨터
           <input type="checkbox" name="hobby" value="인터넷" >인터넷
           <input type="checkbox" name="hobby" value="여행">여행
           <input type="checkbox" name="hobby" value="영화감상">영화감상
           <input type="checkbox" name="hobby" value="음악감상">음악감상
       </td>
    </tr>
 
         <tr>
             <td width="20" height="100">자기소개:</td>
             <td colspan="3"><textarea name="my_intro" id="intro" cols="50" rows="5"></textarea></td>
         </tr>
     
 
</table>
 
<p align="center">
          <input type="submit" value="회원가입">
           <input type="reset" value="다시입력">
  </p>
 
    </form>
</body>
 
 
</html>
